#

## Steps to run

```shell
./command.sh
```

+ Output for reference: ./NsightSystems/MNISTModel.qdrep or ./NsightSystems/MNISTModel.nsys-rep

+ Open nsys-ui

```shell
/usr/local/cuda/Nsight*/bin/nsys-ui
```

+ Here we save the screen shots of the timeline, as well as help information of nsys.

+ Program performance analysis tool (replacing the old performance analysis tools nvprof and nvvp).

+ Original website [Link](https://developer.nvidia.com/nsight-systems).

+ Installation:
  + atteched with CUDA installation [Link](https://developer.nvidia.com/cuda-zone), the executable program are */usr/local/cuda/bin/nsys* and */usr/local/cuda/bin/nsys*
  + standalone installation [Link](https://developer.nvidia.com/nsight-systems), the executable program are *?/bin/nsys* and *?/bin/nsys*

+ Document [Link](https://docs.nvidia.com/nsight-systems/UserGuide/index.html).

+ Note: please update nsight systems to the latest version. Nsight Systems of older version is not able to open .qdrep or .qdrep-nsys or .nsys-rep file generated by newer version of Nsight Systems.

+ Usage: run `nsys profile ./a.exe` in the command line to obtain a .qdrep or .qdrep-nsys or .nsys-rep file, then open nsys-ui, drag the above file into it, so we can observe the timeline in the user interface.

+ Suggestions for using Nsight Systems in model development in TensorRT:
  + Use the switch *ProfilingVerbosity* while building serialized network so that we can get more information about the layer of the model in the timeline of Nsight Systems (see 02-API/ProfilingVerbosity).
  + Only analyze phase of inference, not phase of building.
  + Nsight Systems can be used with trtexec (for example `nsys profile -o myProfile -f true trtexec --loadEngine=model.plan`) or your own script (for example `nsys profile -o myProfile -f true python3 myScript.py`).
